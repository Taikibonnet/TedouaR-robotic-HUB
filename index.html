<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TedouaR Robotics Hub</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/admin-dropdown.css">
    <link rel="stylesheet" href="styles/modal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Include Netlify Identity Widget -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo-container">
                <!-- SVG Logo - Bigger version -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="250" height="100" class="logo">
                  <!-- Definition of gradient and glow -->
                  <defs>
                    <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                      <stop offset="0%" stop-color="#0cebeb"/>
                      <stop offset="100%" stop-color="#20e3b2"/>
                    </linearGradient>
                    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
                      <feGaussianBlur stdDeviation="2" result="blur"/>
                      <feComposite in="SourceGraphic" in2="blur" operator="over"/>
                    </filter>
                  </defs>
                  
                  <!-- Path for the 'T' element -->
                  <path d="M30.96965,130.265109c4.504842-2.783085,98.787866-5.009554,85.997348-5.009554-117.352536,2.860933-40.72106,19.243294-40.493897,14.6112" transform="translate(4.592093-3.339704)" fill="none" stroke="url(#logoGradient)" stroke-width="1.5" filter="url(#glow)"/>
                  
                  <!-- Text elements -->
                  <text dx="0" dy="0" font-family="Arial, sans-serif" font-size="15" font-weight="400" font-style="italic" transform="matrix(2.322194-.031029 0.010676 0.798958 74.435681 137.109235)" fill="url(#logoGradient)" filter="url(#glow)">
                    <tspan y="0" font-weight="400">edouaR</tspan>
                  </text>
                  
                  <text x="110" y="150" font-family="Arial, sans-serif" font-size="10" font-weight="700" letter-spacing="2" text-anchor="middle" fill="url(#logoGradient)" filter="url(#glow)">ROBOTICS</text>
                </svg>
            </a>
            <nav class="nav-links">
                <a href="index.html" class="active">Home</a>
                <a href="encyclopedia.html">Encyclopedia</a>
                <a href="about.html">About Us</a>
                <a href="contact.html">Contact</a>
            </nav>
            <button class="mobile-menu-button">
                <i class="fas fa-bars"></i>
            </button>
            
            <!-- Auth Buttons (shown only if not logged in) -->
            <div class="auth-buttons" id="auth-buttons">
                <a href="login.html" class="btn btn-outline">Log In</a>
                <a href="signup.html" class="btn btn-primary">Sign Up</a>
            </div>
            
            <!-- Admin User Dropdown (shown only if logged in as admin) -->
            <div class="admin-dropdown" id="admin-dropdown" style="display: none;">
                <div id="admin-dropdown-toggle">
                    <div class="avatar">A</div>
                    <div class="username">Admin User</div>
                    <div class="caret"><i class="fas fa-caret-down"></i></div>
                </div>
                
                <div id="admin-dropdown-menu">
                    <ul>
                        <li>
                            <a href="profile.html">
                                <i class="fas fa-user"></i>
                                <span>Profile</span>
                            </a>
                        </li>
                        <li>
                            <a href="settings.html">
                                <i class="fas fa-cog"></i>
                                <span>Settings</span>
                            </a>
                        </li>
                        <li>
                            <a href="admin/" class="admin-link">
                                <i class="fas fa-shield-alt"></i>
                                <span>Admin</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="logout-link" id="logout-button">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Logout</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Explore the World of Robotics</h1>
                <p class="hero-subtitle">Your comprehensive hub for robotics knowledge, news, and community. Discover the latest innovations from Boston Dynamics, SoftBank Robotics, Universal Robots, and many more.</p>
                <div class="hero-buttons">
                    <a href="encyclopedia.html" class="btn btn-primary btn-large">Explore Encyclopedia</a>
                    <a href="about.html" class="btn btn-outline btn-large">Learn More</a>
                </div>
            </div>
            <div class="hero-image">
                <img src="images/hero-robot.png" alt="Robot Illustration">
            </div>
        </div>
        <div class="hero-wave">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
                <path fill="#1e1e1e" fill-opacity="1" d="M0,96L48,112C96,128,192,160,288,170.7C384,181,480,171,576,144C672,117,768,75,864,69.3C960,64,1056,96,1152,112C1248,128,1344,128,1392,128L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
            </svg>
        </div>
    </section>

    <!-- Featured Robots Section -->
    <section class="featured-robots">
        <div class="container">
            <h2 class="section-title">Featured Robots</h2>
            <p class="section-subtitle">Explore some of the most innovative robots in the world</p>
            
            <div class="robot-grid">
                <!-- Robot cards will be populated by JavaScript -->
            </div>
            
            <div class="featured-cta">
                <a href="encyclopedia.html" class="btn btn-primary">View All Robots</a>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories">
        <div class="container">
            <h2 class="section-title">Explore By Category</h2>
            <p class="section-subtitle">Discover robots based on their applications and designs</p>
            
            <div class="category-grid">
                <a href="encyclopedia.html?category=industrial" class="category-card">
                    <div class="category-icon">
                        <i class="fas fa-industry"></i>
                    </div>
                    <h3 class="category-title">Industrial</h3>
                    <p class="category-description">Robotic arms and automated systems used in manufacturing and production.</p>
                </a>
                
                <a href="encyclopedia.html?category=humanoid" class="category-card">
                    <div class="category-icon">
                        <i class="fas fa-user-robot"></i>
                    </div>
                    <h3 class="category-title">Humanoid</h3>
                    <p class="category-description">Robots designed to mimic human form and movements.</p>
                </a>
                
                <a href="encyclopedia.html?category=service" class="category-card">
                    <div class="category-icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <h3 class="category-title">Service</h3>
                    <p class="category-description">Robots that assist with tasks in homes, hospitals, and public spaces.</p>
                </a>
                
                <a href="encyclopedia.html?category=consumer" class="category-card">
                    <div class="category-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3 class="category-title">Consumer</h3>
                    <p class="category-description">Personal robots designed for everyday use in homes.</p>
                </a>
            </div>
        </div>
    </section>

    <!-- Latest News Section -->
    <section class="latest-news">
        <div class="container">
            <h2 class="section-title">Latest News</h2>
            <p class="section-subtitle">Stay updated with the latest developments in robotics</p>
            
            <div class="news-grid">
                <div class="news-card">
                    <div class="news-image">
                        <img src="images/robots/placeholder.jpg" alt="News Image">
                    </div>
                    <div class="news-content">
                        <div class="news-date">May 8, 2025</div>
                        <h3 class="news-title">Boston Dynamics Unveils Next Generation Atlas Robot</h3>
                        <p class="news-excerpt">The new Atlas model features improved dexterity, battery life, and artificial intelligence capabilities.</p>
                        <a href="#" class="read-more">Read More</a>
                    </div>
                </div>
                
                <div class="news-card">
                    <div class="news-image">
                        <img src="images/robots/placeholder.jpg" alt="News Image">
                    </div>
                    <div class="news-content">
                        <div class="news-date">May 5, 2025</div>
                        <h3 class="news-title">Collaborative Robots Set to Transform Manufacturing</h3>
                        <p class="news-excerpt">New research shows that collaborative robots could increase manufacturing productivity by up to 25%.</p>
                        <a href="#" class="read-more">Read More</a>
                    </div>
                </div>
                
                <div class="news-card">
                    <div class="news-image">
                        <img src="images/robots/placeholder.jpg" alt="News Image">
                    </div>
                    <div class="news-content">
                        <div class="news-date">May 1, 2025</div>
                        <h3 class="news-title">Healthcare Robots: The Future of Patient Care</h3>
                        <p class="news-excerpt">Hospitals around the world are implementing robotics to assist with patient care and medical procedures.</p>
                        <a href="#" class="read-more">Read More</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter">
        <div class="container">
            <div class="newsletter-content">
                <h2 class="newsletter-title">Stay Updated</h2>
                <p class="newsletter-description">Subscribe to our newsletter to receive the latest updates, robotics news, and exclusive content.</p>
                
                <form class="newsletter-form">
                    <input type="email" placeholder="Enter your email address" required>
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

    <!-- AI Assistant Button -->
    <div class="ai-assistant">
        <div class="ai-button" id="ai-button">
            <div class="ai-icon"><i class="fas fa-robot"></i></div>
        </div>
    </div>

    <!-- AI Assistant Chat Interface (Hidden by default) -->
    <div class="ai-chat-container" id="ai-chat-container">
        <div class="ai-chat-header">
            <div class="ai-chat-title">Robot Assistant</div>
            <div class="ai-chat-close" id="ai-chat-close"><i class="fas fa-times"></i></div>
        </div>
        <div class="ai-chat-messages" id="ai-chat-messages">
            <div class="ai-message">
                <div class="ai-avatar"><i class="fas fa-robot"></i></div>
                <div class="ai-bubble">Hello! I'm your robotics guide. How can I help you explore the world of robots today?</div>
            </div>
        </div>
        <div class="ai-chat-input">
            <input type="text" id="ai-input" placeholder="Ask me about robots...">
            <button id="ai-send"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>About</h3>
                    <ul class="footer-links">
                        <li><a href="about.html">Our Mission</a></li>
                        <li><a href="about.html#team">The Team</a></li>
                        <li><a href="about.html#partners">Partners</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="encyclopedia.html">Robot Database</a></li>
                        <li><a href="encyclopedia.html?category=featured">Popular Robots</a></li>
                        <li><a href="encyclopedia.html?category=new">Latest Additions</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Categories</h3>
                    <ul class="footer-links">
                        <li><a href="encyclopedia.html?category=industrial">Industrial Robotics</a></li>
                        <li><a href="encyclopedia.html?category=service">Service Robots</a></li>
                        <li><a href="encyclopedia.html?category=humanoid">Humanoids</a></li>
                        <li><a href="encyclopedia.html?category=drone">Drones & UAVs</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Connect</h3>
                    <ul class="footer-links">
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="#" target="_blank">Twitter</a></li>
                        <li><a href="#" target="_blank">LinkedIn</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                &copy; 2025 TedouaR Robotics Hub. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/cms-content.js"></script>
    <script src="js/encyclopedia.js"></script>
    <script src="js/ai-assistant.js"></script>
    <script src="js/auth.js"></script>
    <script>
        // Check login status and show appropriate elements
        document.addEventListener('DOMContentLoaded', function() {
            const isAdminLoggedIn = sessionStorage.getItem('adminLoggedIn') === 'true';
            const authButtons = document.getElementById('auth-buttons');
            const adminDropdown = document.getElementById('admin-dropdown');
            
            if (isAdminLoggedIn) {
                // Show admin dropdown
                if (authButtons) authButtons.style.display = 'none';
                if (adminDropdown) adminDropdown.style.display = 'block';
                
                // Handle logout
                const logoutButton = document.getElementById('logout-button');
                if (logoutButton) {
                    logoutButton.addEventListener('click', function(e) {
                        e.preventDefault();
                        
                        // Remove admin login status
                        sessionStorage.removeItem('adminLoggedIn');
                        
                        // Logout from Netlify Identity if logged in
                        if (window.netlifyIdentity) {
                            window.netlifyIdentity.logout();
                        }
                        
                        // Reload page
                        window.location.reload();
                    });
                }
            } else {
                // Show auth buttons
                if (authButtons) authButtons.style.display = 'flex';
                if (adminDropdown) adminDropdown.style.display = 'none';
            }
        });
        
        // Netlify Identity handling
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
                if (user) {
                    // If logged in with Netlify Identity, update the admin status
                    sessionStorage.setItem('adminLoggedIn', 'true');
                    sessionStorage.setItem('adminName', user.user_metadata.full_name || 'Admin');
                    sessionStorage.setItem('adminEmail', user.email);
                    
                    // If on admin page, don't redirect
                    if (!window.location.pathname.includes('/admin/')) {
                        // Update UI
                        const authButtons = document.getElementById('auth-buttons');
                        const adminDropdown = document.getElementById('admin-dropdown');
                        
                        if (authButtons) authButtons.style.display = 'none';
                        if (adminDropdown) adminDropdown.style.display = 'block';
                    }
                }
            });
            
            // Handle redirect after logging in
            window.netlifyIdentity.on("login", () => {
                if (window.location.pathname.includes('/admin/')) {
                    // Already on admin page, just reload
                    window.location.reload();
                } else {
                    // Redirect to admin if coming from login
                    const redirectFromLogin = sessionStorage.getItem('redirectToAdmin');
                    if (redirectFromLogin) {
                        sessionStorage.removeItem('redirectToAdmin');
                        window.location.href = '/admin/';
                    }
                }
            });
        }
    </script>
</body>
</html>