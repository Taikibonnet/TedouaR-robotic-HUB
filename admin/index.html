<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager - TedouaR Robotics Hub</title>
  
  <!-- Custom styles to match our site design -->
  <style>
    :root {
      --primary: #20e3b2;
      --secondary: #0cebeb;
      --background: #121212;
      --text: #ffffff;
      --text-secondary: #a0a0a0;
      --dark-1: #1e1e1e;
      --dark-2: #242424;
      --dark-3: #2a2a2a;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background-color: var(--background);
      color: var(--text);
    }
    
    /* Login button customization */
    .nc-githubAuthenticationPage-button {
      background-color: var(--primary) !important;
      border-color: var(--primary) !important;
      color: var(--dark-1) !important;
    }
    
    .nc-githubAuthenticationPage-button:hover {
      background-color: var(--secondary) !important;
      border-color: var(--secondary) !important;
    }
    
    /* Loading message */
    .loading-message {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
      max-width: 500px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .loading-message svg {
      margin-bottom: 20px;
      animation: pulse 2s infinite;
    }
    
    .loading-message h1 {
      font-size: 24px;
      margin-bottom: 16px;
    }
    
    .loading-message p {
      color: var(--text-secondary);
      line-height: 1.6;
    }
    
    @keyframes pulse {
      0% {
        opacity: 0.6;
      }
      50% {
        opacity: 1;
      }
      100% {
        opacity: 0.6;
      }
    }
  </style>
  
  <!-- Netlify Identity Widget -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
  <!-- Loading message until the CMS loads -->
  <div class="loading-message">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="120" height="120">
      <defs>
        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="#0cebeb"/>
          <stop offset="100%" stop-color="#20e3b2"/>
        </linearGradient>
        <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
          <feGaussianBlur stdDeviation="2" result="blur"/>
          <feComposite in="SourceGraphic" in2="blur" operator="over"/>
        </filter>
      </defs>
      <path d="M30.96965,130.265109c4.504842-2.783085,98.787866-5.009554,85.997348-5.009554-117.352536,2.860933-40.72106,19.243294-40.493897,14.6112" transform="translate(4.592093-3.339704)" fill="none" stroke="url(#logoGradient)" stroke-width="1.5" filter="url(#glow)"/>
      <text dx="0" dy="0" font-family="Arial, sans-serif" font-size="15" font-weight="400" font-style="italic" transform="matrix(2.322194-.031029 0.010676 0.798958 74.435681 137.109235)" fill="url(#logoGradient)" filter="url(#glow)">
        <tspan y="0" font-weight="400">edouaR</tspan>
      </text>
      <text x="110" y="150" font-family="Arial, sans-serif" font-size="10" font-weight="700" letter-spacing="2" text-anchor="middle" fill="url(#logoGradient)" filter="url(#glow)">ROBOTICS</text>
    </svg>
    <h1>Loading Content Management System</h1>
    <p>Please wait while we prepare your content management interface. This may take a few seconds...</p>
  </div>
  
  <!-- Decap CMS -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  
  <!-- Custom CMS configuration -->
  <script>
    // When the CMS loads, initialize any custom previews or widgets
    window.CMS.registerPreviewStyle("/styles/main.css");
    window.CMS.registerPreviewStyle("/styles/encyclopedia.css");
    window.CMS.registerPreviewStyle("/styles/robot-detail.css");
    
    // Initialize OAuth for GitHub
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }
  </script>
</body>
</html>